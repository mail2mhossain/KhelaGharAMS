<!DOCTYPE html>
<!-- saved from url=(0138)http://www.dotnet-tricks.com/Tutorial/entityframework/2VOa140214-Entity-Framework-6-Code-First-Migrations-with-Multiple-Data-Contexts.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="content-language" content="en-us">
    <meta name="title" content="Entity Framework 6 Code First Migrations with Multiple Data Contexts">
    <title>Entity Framework 6 Code First Migrations with Multiple Data Contexts</title>
    <meta name="keywords" content="mapping multiple DbContexts to one database with Code First Migrations,Multiple Contexts per Database in EF, Entity Framework6 Code First Multi-Tenancy with Migrations">
    <meta name="description" content="Entity Framework code first migrations allows you to create a new database or to update existing database based on your model classes. Entity Framework5 code first migrations is only able to manage a single DbContext per physical database instance. Now, Entity Framework6 code first migrations is able to manage multiple DbContext per physical database instance. ">
    <link rel="canonical" href="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/Entity Framework 6 Code First Migrations with Multiple Data Contexts.htm">

    <meta name="author" content="Shailendra Chauhan">
    <meta name="copyright" content="Copyright Â© 2012-2014 dotnet-tricks.com. The content is copyright to Shailendra Chauhan and may not be reproduced on other websites without permission from the owner.">

    
    <link rel="publisher" href="https://plus.google.com/+ShailendraChauhan-DotNetTricks">
    <meta name="google-site-verification" content="UlOyJA8iCIDHnMo2xZah8Pn453H8vJen29XCYjpvGZI">
    <meta name="msvalidate.01" content="E9FC66097D3DBD3E7C1462EF7951B7C6">
    <link href="http://www.dotnet-tricks.com/favicon.ico" rel="shortcut icon" type="image/x-icon">
        <!--<base href="http://www.dotnet-tricks.com/">--><base href=".">
    <link href="http://www.dotnet-tricks.com/Content/css?v=bmeRVzEX--PKbx0Wzwrfwb5L-pgoo4qa4geabh0Tr4c1" rel="stylesheet">

    <!--[if lt IE 9]>
     <link href="/Content/ie.min.css" rel="stylesheet" />
    <![endif]-->
    <script type="text/javascript" async="" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/ga.js"></script><script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/cb=gapi.loaded_1" async=""></script><script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/cb=gapi.loaded_0" async=""></script><script type="text/javascript" async="" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/ga.js"></script><script type="text/javascript" async="" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/plusone.js" gapi_processed="true"></script><script id="twitter-wjs" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/widgets.js"></script><script id="facebook-jssdk" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/all.js"></script><script async="" type="text/javascript" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/ca-pub-8748562326380967.js"></script><script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript">
        //<![CDATA[
        (window.jQuery) || document.write('<script type="text/javascript" src="Scripts/jquery-1.8.2.min.js"><\/script>');//]]>
    </script>
    <script async="" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/adsbygoogle.js"></script>
    
    <noscript>
        &lt;div class="noscript"&gt;
            &lt;div&gt;
                &lt;span&gt;Please enable Javascript to correctly display the contents on Dot Net Tricks!&lt;/span&gt;
            &lt;/div&gt;
        &lt;/div&gt;
    </noscript>
<script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/secureAnonymousFramework"></script><script type="text/javascript" async="" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/embed.js"></script><style type="text/css">* html #li_ui_li_gen_1409740874925_0 a#li_ui_li_gen_1409740874925_0-link{height:1% !important;}#li_ui_li_gen_1409740874925_0{position:relative !important;overflow:visible !important;display:block !important;}#li_ui_li_gen_1409740874925_0 span{-webkit-box-sizing:content-box !important;-moz-box-sizing:content-box !important;box-sizing:content-box !important;}#li_ui_li_gen_1409740874925_0 a#li_ui_li_gen_1409740874925_0-link{border:0 !important;height:20px !important;text-decoration:none !important;padding:0 !important;margin:0 !important;display:inline-block !important;}#li_ui_li_gen_1409740874925_0 a#li_ui_li_gen_1409740874925_0-link:link, #li_ui_li_gen_1409740874925_0 a#li_ui_li_gen_1409740874925_0-link:visited, #li_ui_li_gen_1409740874925_0 a#li_ui_li_gen_1409740874925_0-link:hover, #li_ui_li_gen_1409740874925_0 a#li_ui_li_gen_1409740874925_0-link:active{border:0 !important;text-decoration:none !important;}#li_ui_li_gen_1409740874925_0 a#li_ui_li_gen_1409740874925_0-link:after{content:"." !important;display:block !important;clear:both !important;visibility:hidden !important;line-height:0 !important;height:0 !important;}#li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-logo{background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-position:0px -276px !important;background-repeat:no-repeat !important;background-size:initial !important;cursor:pointer !important;border:0 !important;text-indent:-9999em !important;overflow:hidden !important;padding:0 !important;margin:0 !important;position:absolute !important;left:0px !important;top:0px !important;display:block !important;width:20px !important;height:20px !important;float:right !important;border-radius:0 !important;-webkit-border-radius:0 !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;}#li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-logo{background-position:-20px -276px !important;}#li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-logo, #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-logo{background-position:-40px -276px !important;}.IN-shadowed #li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-logo{}#li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title{color:#333 !important;cursor:pointer !important;display:block !important;white-space:nowrap !important;float:left !important;margin-left:1px !important;vertical-align:top !important;overflow:hidden !important;text-align:center !important;height:18px !important;padding:0 4px 0 23px !important;border:1px solid #000 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;border-left:0 !important;text-shadow:#FFFFFF -1px 1px 0 !important;line-height:20px !important;border-radius:0 !important;-webkit-border-radius:0 !important;border-top-right-radius:2px !important;border-bottom-right-radius:2px !important;-webkit-border-top-right-radius:2px !important;-webkit-border-bottom-right-radius:2px !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}#li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-title{border:1px solid #000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;border-left:0 !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}#li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title, #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title{color:#666 !important;border:1px solid #000 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;border-left:0 !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.IN-shadowed #li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title{}.IN-shadowed #li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-title{}.IN-shadowed #li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title, .IN-shadowed #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title{}#li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title-text, #li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title-text *{color:#333 !important;font-size:11px !important;font-family:Arial, sans-serif !important;font-weight:bold !important;font-style:normal !important;-webkit-font-smoothing:antialiased !important;display:inline-block !important;background:transparent none !important;vertical-align:top !important;height:18px !important;line-height:20px !important;float:none !important;}#li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title-text strong{font-weight:bold !important;}#li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title-text em{font-style:italic !important;}#li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-title-text, #li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-title-text *{color:#000 !important;}#li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title-text, #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title-text, #li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title-text *, #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title-text *{color:#666 !important;}#li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title #li_ui_li_gen_1409740874925_0-mark{display:inline-block !important;width:0px !important;overflow:hidden !important;}.success #li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title{color:#333 !important;border-top-color:#E2E2E2 !important;border-right-color:#BFBFBF !important;border-bottom-color:#B9B9B9 !important;border-left-color:#E2E2E2 !important;background-color:#ECECEC !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#FEFEFE), color-stop(100%,#ECECEC)) !important; background-image: -webkit-linear-gradient(top, #FEFEFE 0%, #ECECEC 100%) !important;}.success #li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title-text, .success #li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title-text *{color:#333 !important;}.IN-shadowed .success #li_ui_li_gen_1409740874925_0 #li_ui_li_gen_1409740874925_0-title{}.success #li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-title{color:#000 !important;border-top-color:#ABABAB !important;border-right-color:#9A9A9A !important;border-bottom-color:#787878 !important;border-left-color:#04568B !important;background-color:#EDEDED !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#EDEDED), color-stop(100%,#DEDEDE)) !important; background-image: -webkit-linear-gradient(top, #EDEDED 0%, #DEDEDE 100%) !important;}.success #li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-title-text, .success #li_ui_li_gen_1409740874925_0.hovered #li_ui_li_gen_1409740874925_0-title-text *{color:#000 !important;}.success #li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title, .success #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title{color:#666 !important;border-top-color:#B6B6B6 !important;border-right-color:#B3B3B3 !important;border-bottom-color:#9D9D9D !important;border-left-color:#49627B !important;background-color:#DEDEDE !important;background-image:-webkit-gradient(linear, left top, left bottom, color-stop(0%,#E3E3E3), color-stop(100%,#EDEDED)) !important; background-image: -webkit-linear-gradient(top, #E3E3E3 0%, #EDEDED 100%) !important;}.success #li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title-text, .success #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title-text, .success #li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title-text *, .success #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title-text *{color:#666 !important;}.IN-shadowed .success #li_ui_li_gen_1409740874925_0.clicked #li_ui_li_gen_1409740874925_0-title, .IN-shadowed .success #li_ui_li_gen_1409740874925_0.down #li_ui_li_gen_1409740874925_0-title{}#li_ui_li_gen_1409740874941_1-container.IN-right {display:inline-block !important;float:left !important;overflow:visible !important;position:relative !important;height:18px !important;padding-left:2px !important;line-height:1px !important;cursor:pointer !important;}#li_ui_li_gen_1409740874941_1.IN-right {display:block !important;float:left !important;height:18px !important;margin-right:4px !important;padding-right:4px !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:right -100px !important;}#li_ui_li_gen_1409740874941_1-inner.IN-right {display:block !important;float:left !important;padding-left:8px !important;text-align:center !important;background-image:url(https://static.licdn.com/scds/common/u/images/apps/connect/sprites/sprite_connect_v14.png) !important;background-color:transparent !important;background-repeat:no-repeat !important;background-position:0px -60px !important;}#li_ui_li_gen_1409740874941_1-content.IN-right {display:inline !important;font-size:11px !important;color:#04558B !important;font-weight:bold !important;font-family:Arial, sans-serif !important;line-height:18px !important;padding:0 5px 0 5px !important;}#li_ui_li_gen_1409740874941_1-container.IN-empty {display:none !important;}#li_ui_li_gen_1409740874941_1-container.IN-hidden #li_ui_li_gen_1409740874941_1 {display:none !important;}</style><style type="text/css">.fb_hidden{position:absolute;top:-10000px;z-index:10001}.fb_invisible{display:none}.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:"lucida grande", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}.fb_reset>div{overflow:hidden}.fb_link img{border:none}
.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}.fb_reset .fb_dialog_legacy{overflow:visible}.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}.fb_dialog_content{background:#fff;color:#333}.fb_dialog_close_icon{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px}.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}.fb_dialog_close_icon:hover{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_close_icon:active{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yq/r/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http://static.ak.fbcdn.net/rsrc.php/v2/yL/r/s816eWC-2sl.gif)}.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}.fb_dialog_top_left,.fb_dialog_top_right,.fb_dialog_bottom_left,.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}.fb_dialog_top_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}.fb_dialog_top_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}.fb_dialog_bottom_left{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}.fb_dialog_bottom_right{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ye/r/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}.fb_dialog_vert_left,.fb_dialog_vert_right,.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}.fb_dialog_vert_left,.fb_dialog_vert_right{width:10px;height:100%}.fb_dialog_vert_left{margin-left:-10px}.fb_dialog_vert_right{right:0;margin-right:-10px}.fb_dialog_horiz_top,.fb_dialog_horiz_bottom{width:100%;height:10px}.fb_dialog_horiz_top{margin-top:-10px}.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}.fb_dialog_iframe{line-height:0}.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}.fb_dialog_content .dialog_title>span{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/yd/r/Cou7n-nqK52.gif) no-repeat 5px 50%;float:left;padding:5px 0 7px 26px}body.fb_hidden{-webkit-transform:none;height:100%;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100%}.fb_dialog.fb_dialog_mobile.loading{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/ya/r/3rhSv5V8j3o.gif) white no-repeat 50% 50%;min-height:100%;min-width:100%;overflow:hidden;position:absolute;top:0;z-index:10001}.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100%;min-height:100%;z-index:10000}#fb-root #fb_dialog_ipad_overlay.hidden{display:none}.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100%}.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px}.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px}.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0% 0%, 0% 100%, from(#4966A6), color-stop(.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset, rgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}.fb_dialog_content .dialog_content{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat 50% 50%;border:1px solid #555;border-bottom:0;border-top:0;height:150px}.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}#fb_dialog_loader_close{float:left}.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}
.fb_iframe_widget{display:inline-block;position:relative}.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}.fb_iframe_widget iframe{position:absolute}.fb_iframe_widget_lift{z-index:1}.fb_hide_iframes iframe{position:relative;left:-10000px}.fb_iframe_widget_loader{position:relative;display:inline-block}.fb_iframe_widget_fluid{display:inline}.fb_iframe_widget_fluid span{width:100%}.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}.fb_iframe_widget_loader .FB_Loader{background:url(http://static.ak.fbcdn.net/rsrc.php/v2/y9/r/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50%;z-index:4}
.fbpluginrecommendationsbarleft,.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}.fbpluginrecommendationsbarleft{left:10px}.fbpluginrecommendationsbarright{right:10px}</style><script type="text/javascript" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/loader.js"></script><script type="text/javascript" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/coupons_support2.js"></script><script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/deals"></script><script type="text/javascript" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/53fb5bb572.js"></script><script type="text/javascript" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/saved_resource"></script><script type="text/javascript" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/optout-params"></script></head>
<body data-twttr-rendered="true" data-feedly-mini="yes">
    

<div class="navbar navbar-fixed-top w3_megamenu">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            
            <a href="http://www.dotnet-tricks.com/">
                <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/dotnet-tricks-logo.png" style="box-shadow:none; height:50px; padding:0; margin:0; margin-right:10px;">
            </a>
        </div>
        <div class="navbar-collapse collapse">
            <ul class="nav navbar-nav">
                <li>
<a href="http://www.dotnet-tricks.com/Home/Archive">Tutorial</a>                </li>
                <li class="dropdown w3_megamenu-fw">
                    <a href="http://www.dotnet-tricks.com/#" class="dropdown-toggle" data-toggle="dropdown">Category<b class="caret"></b></a>
                    <ul class="dropdown-menu fullwidth">
                        <li class="w3_megamenu-content withdesc">
                            <div class="row">
                                <div class="container">
                                    <h3 class="title">List of Categories</h3>
                                </div>
                                <div class="col-sm-3">
                                    <ul class="navmenu">
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/netframeworklist">.Net Framework</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/adonetlist">ADO.NET</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/ajaxlist">Ajax</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/angularjslist">AngularJS</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/aspnetlist">ASP.NET</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/aspnetwebpagelist">ASP.NET Web Page</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/backbonelist">Backbone</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/clist">C</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/csharplist">C#</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-3">
                                    <ul class="navmenu">
                                        <li><a href="http://www.windowsappstutorial.com/Tutorial/cswinappslist">C# Windows Apps</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/csslist">CSS</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/dependencyinjectionlist">Dependency Injection</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/designpatternslist">Design Patterns</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/entityframeworklist">Entity Framework</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/fluentnhibernatelist">Fluent Nhibernate</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/hybridmobileappslist">Hybrid Mobile Apps</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/javascriptlist">JavaScript</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/jquerylist">jQuery</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-3">
                                    <ul class="navmenu">
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/jquerymobilelist">jQuery Mobile</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/knockoutlist">Knockout</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/linqlist">LINQ</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/mvclist">MVC</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/mvc6list">MVC6</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/nhibernatelist">Nhibernate</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/oopslist">OOPS</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/phonegaplist">PhoneGap</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/sqlserverlist">SQL Server</a></li>
                                    </ul>
                                </div>
                                <div class="col-sm-3">
                                    <ul class="navmenu">
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/sqlserver2012list">SQL Server 2012</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/tfslist">TFS</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/visualstudiolist">Visual Studio</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/wcflist">WCF</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/webapilist">Web API</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/webservicelist">Web Service</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/windowsazurelist">Windows Azure</a></li>
                                        <li><a href="http://www.windowsappstutorial.com/Tutorial/windowsphoneappslist">Windows Phone Apps</a></li>
                                        <li><a href="http://www.dotnet-tricks.com/Tutorial/wpflist">WPF</a></li>

                                    </ul>
                                </div>

                            </div>
                        </li>
                    </ul>
                </li>

                <li class="dropdown w3_megamenu-fw">
                    <a href="http://www.dotnet-tricks.com/#" class="dropdown-toggle" data-toggle="dropdown">Training Programs<b class="caret"></b></a>
                    <ul class="dropdown-menu fullwidth">
                        <li class="w3_megamenu-content withdesc">
                            <div class="row">
                                <div class="col-sm-3">
                                    <h3 class="title">Learn ASP.NET MVC Development</h3>
                                    <div class="course-title">
                                        This Training Course Includes :
                                    </div>
                                    <ol class="courselist">
                                        <li>ASP.NET MVC</li>
                                        <li>Web API</li>
                                        <li>LINQ</li>
                                        <li>Entity Framework</li>
                                        <li>jQuery</li>
                                        <li>jQuery UI</li>
                                    </ol>
                                    <div style="height:15px">&nbsp;</div>
                                    <div class="captionslider slider-btn" data-animate="slideAppearLeftToRight">
                                        <div class="pagination">
                                            <a href="http://www.dotnet-tricks.com/trainingpackages/Asp.NET%20MVC5%20Syllabus%20and%20Fee%20Structure.pdf">More details</a>&nbsp;<a href="http://www.dotnet-tricks.com/Home/Training#note">Click here to join</a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <h3 class="title">Learn Hybrid Apps Development</h3>
                                    <div class="course-title">
                                        This Training Course Includes :
                                    </div>
                                    <ol class="courselist">
                                        <li>Java Script</li>
                                        <li>AngularJS</li>
                                        <li>jQuery Mobile</li>
                                        <li>Web API</li>
                                        <li>PhoneGap</li>
                                        <li>Demo App</li>
                                    </ol>
                                    <div style="height:15px">&nbsp;</div>
                                    <div class="pagination">
                                        <a href="http://www.dotnet-tricks.com/trainingpackages/Hybrid%20Apps%20Development%20Syllabus%20and%20Fee%20Structure.pdf">More details</a>&nbsp;<a href="http://www.dotnet-tricks.com/Home/Training#note">Click here to join</a>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <h3 class="title">Learn WCF Service Development</h3>
                                    <div class="course-title">
                                        This Training Course Includes :
                                    </div>
                                    <ol class="courselist">
                                        <li>WCF</li>
                                        <li>WCF REST</li>
                                    </ol>
                                    <div style="height:15px">&nbsp;</div>
                                    <div class="pagination">
                                        <a href="http://www.dotnet-tricks.com/trainingpackages/WCF%20Syllabus%20and%20Fee%20Structure.pdf">More details</a>&nbsp;<a href="http://www.dotnet-tricks.com/Home/Training#note">Click here to join</a>
                                    </div>
                                </div>
                                <div class="col-sm-3">
                                    <h3 class="title">Sign up for Training Program(s)</h3>
<script type="text/javascript">
    function checkNumeric(event) {
        var kCode = event.keyCode || event.charCode; // for cross browser check
        //FF and Safari use e.charCode, while IE use e.keyCode that returns the ASCII value
        if ((kCode > 57 || kCode < 48) && (kCode != 46 && kCode != 45)) {
            //code for IE
            if (window.ActiveXObject) {
                event.keyCode = 0
                return false;
            }
            else {
                event.charCode = 0
            }
        }
    }
    $("#btnsendMenu").live("click", function () {
        flag = true;
        if ($.trim($("#YourNameMenu").val()) == "") {
            $("#YourNameMenu").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#YourNameMenu").removeClass("input-validation-error");
        }
        if ($.trim($("#EmailMenu").val()) == "") {
            $("#EmailMenu").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#EmailMenu").removeClass("input-validation-error");
        }
        if ($.trim($("#EmailMenu").val()) != "") {
            var email = $.trim($("#EmailMenu").val());
            if (!validEmail(email)) {
                $("#EmailMenu").addClass("input-validation-error");
                flag = false;
            }
            else {
                $("#EmailMenu").removeClass("input-validation-error");
            }
        }
        if ($.trim($("#MobileNoMenu").val()) == "") {
            $("#MobileNoMenu").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#MobileNoMenu").removeClass("input-validation-error");
        }
        if ($.trim($("#CityMenu").val()) == "") {
            $("#CityMenu").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#CityMenu").removeClass("input-validation-error");
        }

        //if ($.trim($("#Subject").val()) == "") {
        //    $("#Subject").addClass("input-validation-error");
        //    flag = false;
        //}
        //else {
        //    $("#Subject").removeClass("input-validation-error");
        //}
        if ($.trim($("#MessageMenu").val()) == "") {
            $("#MessageMenu").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#MessageMenu").removeClass("input-validation-error");
        }
        //if ($.trim($("#Sum").val()) == "") {
        //    $("#Sum").addClass("input-validation-error");
        //    flag = false;
        //}
        //else {
        //    $("#Sum").removeClass("input-validation-error");
        //}
        //if ($.trim($("#Sum").val()) != "") {
        //    if ($("#hdnSum").val() != $.trim($("#Sum").val())) {
        //        $("#Sum").addClass("input-validation-error");
        //        flag = false;
        //    }
        //    else {
        //        $("#Sum").removeClass("input-validation-error");
        //    }
        //}
        if (flag) {

            var data = {
                YourName: $("#YourNameMenu").val(),
                Subject: "Training",
                Email: $("#EmailMenu").val(),
                City: $("#CityMenu").val(),
                MobileNo: $("#MobileNoMenu").val(),
                Message: $("#MessageMenu").val()
            };

            $.ajax({
                url: '/Tutorial/SaveQuery',
                cache: false,
                type: 'POST',
                dataType: "json",
                contentType: 'application/json; charset=utf-8',
                data: JSON.stringify(data),
                success: function (d) {

                    if (d.flag == "true") {
                        alert("You have been successfully registred to attend training!");
                        $("#YourNameMenu").val("");
                        $("#EmailMenu").val("");
                        $("#CityMenu").val("");
                        $("#MobileNoMenu").val("");
                        $("#MessageMenu").val("");
                    }
                    else {
                        alert("There is some error to send query!");
                    }
                }
            });

        }
        else {
            return flag;
        }
    });
</script>
<div>
    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-required="Please enter your name" id="YourNameMenu" maxlength="50" name="YourNameMenu" placeholder="Your Name" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="YourNameMenu" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-regex="Please enter correct email" data-val-regex-pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}" data-val-required="Please enter your email address" id="EmailMenu" maxlength="50" name="EmailMenu" placeholder="Your Email Address" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="EmailMenu" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-regex="Please enter only numbers" data-val-regex-pattern="([0-9]*)" data-val-required="Please enter your mobile number" id="MobileNoMenu" maxlength="10" name="MobileNoMenu" onkeypress="return checkNumeric(event);" placeholder="Your Contact Number" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="MobileNoMenu" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-required="Please enter your current City/Location" id="CityMenu" maxlength="50" name="CityMenu" placeholder="Your Current City" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="CityMenu" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <textarea cols="20" data-val="true" data-val-required="Please enter your message" id="MessageMenu" maxlength="400" name="MessageMenu" placeholder="Your Message" rows="2" style="width: 100%; height: 120px;"></textarea>
        <span class="field-validation-valid" data-valmsg-for="MessageMenu" data-valmsg-replace="true"></span>
    </div>

    <p style="padding-top: 20px; padding-top: 5px; clear: both;">
        <input type="submit" value=" Submit " id="btnsendMenu">
    </p>
</div>

                                </div>
                            </div>

                        </li>
                    </ul>
                </li>
                <li class="dropdown w3_megamenu-fw">
                    <a href="http://www.dotnet-tricks.com/#" class="dropdown-toggle" data-toggle="dropdown">Free Interview Books<b class="caret"></b></a>
                    <ul class="dropdown-menu fullwidth">
                        <li class="w3_megamenu-content withdesc">
                            <div class="row">
                                <div class="col-sm-6">
                                    <h3 class="title">ASP.NET MVC Interview Questions and Answers</h3>
                                    <div class="row">
                                        <div class="col-sm-6" style="text-align: justify">
                                            This book is appropriate for novice as well as for senior level professionals who wants to strengthen their skills before appearing for an interview on MVC. This book is equally helpful to sharpen their programming skills and understanding ASP.NET MVC in a short time.
                                            <div class="clear">&nbsp;</div>
                                            <div style="float: right" class="download"><a href="http://www.dotnet-tricks.com/Home/MVCInterviewBook">Download Book</a></div>
                                        </div>
                                        <div class="col-sm-6">
                                            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/mvcbook.jpg" style="height: 180px">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-sm-6">
                                    <h3 class="title">LINQ Interview Questions and Answers</h3>
                                    <div class="row">
                                        <div class="col-sm-6" style="text-align: justify">
                                            This book is appropriate for novice as well as for senior level professionals who wants to strengthen their skills before appearing for an interview on LINQ. This book is equally helpful to sharpen their programming skills and understanding LINQ in a short time.
                                            <div class="clear">&nbsp;</div>
                                            <div style="float: right" class="download"><a href="http://www.dotnet-tricks.com/Home/LINQInterviewBook">Download Book</a></div>
                                        </div>
                                        <div class="col-sm-6">
                                            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/linqbook.jpg" style="height: 180px">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </li>
                    </ul>
                </li>

                <li>
<a href="http://www.dotnet-tricks.com/Home/Tools">Tools</a>                </li>

                <li class="dropdown w3_megamenu-fw">
                    <a href="http://www.dotnet-tricks.com/#" class="dropdown-toggle" data-toggle="dropdown">About Us<b class="caret"></b></a>
                    <ul class="dropdown-menu fullwidth">
                        <li class="w3_megamenu-content withdesc">
                            <div class="row">
                                <div class="col-sm-4">
                                    <div class="container">
                                        <h3 class="title">About Us</h3>
                                    </div>
                                    <p style="text-align: justify">
                                        Hey! I'm Shailendra Chauhan author, developer with more than 5 years of hand over Microsoft .NET technologies. I am a .NET consultant, founder &amp; chief editor of www.dotnet-tricks.com.
                                    </p>
                                    <p>
                                        I like to share my working experience, research and knowledge through my well-known blog.
                                    </p>
                                    <br>
                                    <div style="float: right" class="download"><a href="http://www.dotnet-tricks.com/Home/About">For more detail</a></div>
                                </div>
                                <div class="col-sm-4">
                                    <div class="container">
                                        <h3 class="title">Advertise with Us</h3>
                                    </div>
                                    <p style="text-align: justify">
                                        Dot Net Tricks is very dedicated to provide high quality technical content that is completely free world wide. If you would like to advertise your's product to
                                        specific audience like college students, developers, programmers &amp; software professionals
                                        then Dot Net Tricks is the best choice for placing your product's ad.
                                    </p>
                                    <br>
                                    <div style="float: right" class="download"><a href="http://www.dotnet-tricks.com/Home/Advertise">For more detail</a></div>
                                </div>
                                <div class="col-sm-4">
                                    <h3 class="title">Contact Us</h3>
<script type="text/javascript">
    function checkNumeric(event) {
        var kCode = event.keyCode || event.charCode; // for cross browser check
        //FF and Safari use e.charCode, while IE use e.keyCode that returns the ASCII value
        if ((kCode > 57 || kCode < 48) && (kCode != 46 && kCode != 45)) {
            //code for IE
            if (window.ActiveXObject) {
                event.keyCode = 0
                return false;
            }
            else {
                event.charCode = 0
            }
        }
    }
    $("#btnsendcontact").live("click", function () {
        flag = true;
        if ($.trim($("#YourName1").val()) == "") {
            $("#YourName1").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#YourName1").removeClass("input-validation-error");
        }
        if ($.trim($("#Email1").val()) == "") {
            $("#Email1").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#Email1").removeClass("input-validation-error");
        }
        if ($.trim($("#Email1").val()) != "") {
            var email = $.trim($("#Email1").val());
            if (!validEmail(email)) {
                $("#Email1").addClass("input-validation-error");
                flag = false;
            }
            else {
                $("#Email1").removeClass("input-validation-error");
            }
        }
        if ($.trim($("#MobileNo1").val()) == "") {
            $("#MobileNo1").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#MobileNo1").removeClass("input-validation-error");
        }
        if ($.trim($("#City1").val()) == "") {
            $("#City1").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#City1").removeClass("input-validation-error");
        }

        //if ($.trim($("#Subject").val()) == "") {
        //    $("#Subject").addClass("input-validation-error");
        //    flag = false;
        //}
        //else {
        //    $("#Subject").removeClass("input-validation-error");
        //}
        if ($.trim($("#Message1").val()) == "") {
            $("#Message1").addClass("input-validation-error");
            flag = false;
        }
        else {
            $("#Message1").removeClass("input-validation-error");
        }
        //if ($.trim($("#Sum").val()) == "") {
        //    $("#Sum").addClass("input-validation-error");
        //    flag = false;
        //}
        //else {
        //    $("#Sum").removeClass("input-validation-error");
        //}
        //if ($.trim($("#Sum").val()) != "") {
        //    if ($("#hdnSum").val() != $.trim($("#Sum").val())) {
        //        $("#Sum").addClass("input-validation-error");
        //        flag = false;
        //    }
        //    else {
        //        $("#Sum").removeClass("input-validation-error");
        //    }
        //}
        if (flag) {

            var data = {
                YourName: $("#YourName1").val(),
                Subject: "Contact",
                Email: $("#Email1").val(),
                City: $("#City1").val(),
                MobileNo: $("#MobileNo1").val(),
                Message: $("#Message1").val()
            };

            $.ajax({
                url: '/Tutorial/SaveQuery',
                cache: false,
                type: 'POST',
                dataType: "json",
                contentType: 'application/json; charset=utf-8',
                data: JSON.stringify(data),
                success: function (d) {

                    if (d.flag == "true") {
                        alert("You have been successfully send you query!");
                        $("#YourName1").val("");
                        $("#Email1").val("");
                        $("#City1").val("");
                        $("#MobileNo1").val("");
                        $("#Message1").val("");
                    }
                    else {
                        alert("There is some error to send query!");
                    }
                }
            });

        }
        else {
            return flag;
        }
    });
</script>
<div>
    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-required="Please enter your name" id="YourName1" maxlength="50" name="YourName1" placeholder="Your Name" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="YourName1" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-regex="Please enter correct email" data-val-regex-pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}" data-val-required="Please enter your email address" id="Email1" maxlength="50" name="Email1" placeholder="Your Email Address" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="Email" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-regex="Please enter only numbers" data-val-regex-pattern="([0-9]*)" data-val-required="Please enter your mobile number" id="MobileNo1" maxlength="10" name="MobileNo1" onkeypress="return checkNumeric(event);" placeholder="Your Contact Number" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="MobileNo1" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <input class="input-field" data-val="true" data-val-required="Please enter your current City/Location" id="City1" maxlength="50" name="City1" placeholder="Your Current City" type="text" value="">
        <span class="field-validation-valid" data-valmsg-for="City1" data-valmsg-replace="true"></span>
    </div>

    <div class="editor-field">
        <textarea cols="20" data-val="true" data-val-required="Please enter your message" id="Message1" maxlength="400" name="Message1" placeholder="Your Message" rows="2" style="width: 100%; height: 120px;"></textarea>
        <span class="field-validation-valid" data-valmsg-for="Message1" data-valmsg-replace="true"></span>
    </div>

    <p style="padding-top: 20px; padding-top: 5px; clear: both;">
        <input type="submit" value=" Submit " id="btnsendcontact">
    </p>
</div>

                                </div>
                            </div>
                        </li>
                    </ul>
                </li>
            </ul>

            <div class="col-sm-3 col-md-3 pull-right">
                <div class="navbar-form" style="padding-top:7px;padding-bottom:7px;">
                    <div class="input-group">
                        <input type="text" class="form-control" placeholder="Search Articles" name="txtGoogleBox" id="txtGoogleBox" onkeypress="return keypress(event);" style="background: #EEEEEE;">
                        <div class="input-group-btn">
                            <button class="btn btn-info" type="submit" id="btnsearch"><i class="glyphicon glyphicon-search" style="color: white"></i></button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--/.nav-collapse -->
    </div>
</div>
<div class="container" style="padding-top: 26px;">
    &nbsp;
</div>




    
    <div class="container  clear" style="padding-top: 10px;">
        <div class="row">
            <div align="center" style="padding-bottom: 10px;">
                <script>
                    $(function () {
                        var fixedfooterad = true;
                        var e2 = $("#header-adwrapperbig").offset().top; var t2 = function () {
                            var hasAd = $(".adsbygoogle").html().length > 0 ? true : false;
                            var t2 = $(window).scrollTop(); if (t2 > e2 && fixedfooterad && hasAd) { $("#header-adwrapperbig").removeClass("sidebar-ads"); $("#header-adwrapperbig").addClass("fixedheader-ads"); $("#closeicon").show(); } else { $("#header-adwrapperbig").removeClass("fixedheader-ads"); $("#header-adwrapperbig").addClass("sidebar-ads"); $("#closeicon").hide(); }
                        }; t2(); $(window).scroll(function () { var e2 = $(window).width(); if (e2 > 720) { t2() } });
                        closefooter = function closefooterad() {
                            fixedfooterad = false;
                            $("#header-adwrapperbig").removeClass("fixedheader-ads"); $("#header-adwrapperbig").addClass("sidebar-ads"); $("#closeicon").hide();
                            return false;
                        }
                    })
                </script>
                <div id="header-adwrapperbig" class="sidebar-adsb sidebar-ads">
                    <div id="closeicon" style="position: absolute; z-index: 2000; top: -13px; right: -4px; color: rgb(21, 80, 143); text-decoration: none; cursor: pointer; display: none; font-weight: bold;" onclick="closefooter();">
                        x
                        
                    </div>
                    <!-- 728X90 -->
                    <ins class="adsbygoogle" style="display: inline-block; width: 728px; height: 90px" data-ad-client="ca-pub-8748562326380967" data-ad-slot="7266688509" data-adsbygoogle-status="done"><ins id="aswift_0_expand" style="display:inline-table;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><ins id="aswift_0_anchor" style="display:block;border:none;height:90px;margin:0;padding:0;position:relative;visibility:visible;width:728px;background-color:transparent"><iframe width="728" height="90" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_0" name="aswift_0" style="left:0;position:absolute;top:0;"></iframe></ins></ins></ins>
                    <script>
                        (adsbygoogle = window.adsbygoogle || []).push({});
                    </script>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="content col-xs-12 col-sm-8 col-lg-8">
                
<div id="tutorial-list">
    <script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/jquery.printarea.js"></script>
<script>
    $(function () {
        $('#print').click(function () {
            var container = $(this).attr('rel');
            //$('#' + container).printArea();
            $("#tutorial-list").printArea();
            return false;
        });
    });

</script>
    <div>
        <h1>Entity Framework 6 Code First Migrations with Multiple Data Contexts</h1>

    </div>
    <div class="postdetails ">
        <div class=" left postedby content col-xs-12 col-sm-7 col-lg-7">
            Posted By : Shailendra Chauhan, 14 Feb 2014
        </div>
            <div class=" right updatedby content col-xs-12 col-sm-5 col-lg-5">
                Updated On : 24 Jun 2014
            </div>
    </div>
    <div class="postdetails ">
        <span class="version-icon left">&nbsp;</span>
        <span class="version">Version Support : EF6
        </span>
    </div>  
    <div class="postdetails ">
        <span class="posttags left">&nbsp;</span>
        <span class="keyword">Keywords : mapping multiple DbContexts to one database with Code First Migrations,Multiple Contexts per Database in EF, Entity Framework6 Code First Multi-Tenancy with Migrations
        </span>
    </div>  
<script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/prettify"></script>
    <script type="text/javascript">
        $(document).ready(function () {
            prettyPrint();
        });
    </script>
    <div class="clear center">
        <a href="http://www.dotnet-tricks.com/Home/training#note">
            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/dotnet-tricks-training-progms.png" alt="Join Dot Net Tricks Training Programs"></a>
    </div>
    <div style="clear: both;">
        <p class="firstpara">Entity Framework code first migrations allows you to create a new database or to update existing database based on your model classes. Entity Framework5 code first migrations is only able to manage a single DbContext per physical database instance. Now, Entity Framework6 code first migrations is able to manage multiple DbContext per physical database instance. Let's see how to make it possible using EF6.</p>
<p>Suppose you have two DbContexts DataContext and UserDataContext. You need to migrates these two into single database instance.</p>
<h2>Model Classes</h2>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">User</span></li><li class="L1"><span class="pun">{</span></li><li class="L2"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">int</span><span class="pln"> </span><span class="typ">UserID</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L3"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> string </span><span class="typ">FirstName</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L4"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> string </span><span class="typ">LastName</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L5"><span class="pun">}</span></li><li class="L6"><span class="pln">&nbsp;</span></li><li class="L7"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Role</span></li><li class="L8"><span class="pun">{</span></li><li class="L9"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">int</span><span class="pln"> </span><span class="typ">RoleID</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L0"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> string </span><span class="typ">RolesName</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L1"><span class="pun">}</span><span class="pln"> </span></li><li class="L2"><span class="pln">&nbsp;</span></li><li class="L3"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Order</span></li><li class="L4"><span class="pun">{</span></li><li class="L5"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">int</span><span class="pln"> </span><span class="typ">OrderID</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L6"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">int</span><span class="pln"> </span><span class="typ">Quantity</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L7"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="kwd">double</span><span class="pln"> </span><span class="typ">Amount</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L8"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DateTime</span><span class="pln"> </span><span class="typ">Date</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></li><li class="L9"><span class="pun">}</span></li></ol></pre> 
<h2>DbContexts</h2>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="com">//first DbContext</span></li><li class="L1"><span class="kwd">namespace</span><span class="pln"> </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">Models</span></li><li class="L2"><span class="pun">{</span></li><li class="L3"><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">DataContext</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">DbContext</span></li><li class="L4"><span class="pun">{</span></li><li class="L5"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DataContext</span><span class="pun">()</span></li><li class="L6"><span class="pln"> </span><span class="pun">:</span><span class="pln"> base</span><span class="pun">(</span><span class="str">"DefaultConnection"</span><span class="pun">)</span></li><li class="L7"><span class="pln"> </span><span class="pun">{</span></li><li class="L8"><span class="pln">&nbsp;</span></li><li class="L9"><span class="pln"> </span><span class="pun">}</span></li><li class="L0"><span class="pln">&nbsp;</span></li><li class="L1"><span class="pln"> </span><span class="kwd">protected</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">OnModelCreating</span><span class="pun">(</span><span class="typ">DbModelBuilder</span><span class="pln"> modelBuilder</span><span class="pun">)</span></li><li class="L2"><span class="pln"> </span><span class="pun">{</span></li><li class="L3"><span class="pln"> </span><span class="com">//TODO:Define mapping</span></li><li class="L4"><span class="pln"> </span><span class="pun">}</span></li><li class="L5"><span class="pln">&nbsp;</span></li><li class="L6"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DbSet</span><user><span class="pln"> </span><span class="typ">Users</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></user></li><li class="L7"><user><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DbSet</span><order><span class="pln"> </span><span class="typ">Orders</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></order></user></li><li class="L8"><user><order><span class="pun">}</span></order></user></li><li class="L9"><user><order><span class="pun">}</span></order></user></li><li class="L0"><user><order></order></user></li><li class="L1"><user><order><span class="com">//second DbContext</span></order></user></li><li class="L2"><user><order><span class="kwd">namespace</span><span class="pln"> </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">Models</span></order></user></li><li class="L3"><user><order><span class="pun">{</span></order></user></li><li class="L4"><user><order><span class="kwd">public</span><span class="pln"> </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">UserDataContext</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">DbContext</span></order></user></li><li class="L5"><user><order><span class="pun">{</span></order></user></li><li class="L6"><user><order><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">UserDataContext</span><span class="pun">():</span><span class="pln">base</span><span class="pun">(</span><span class="str">"DefaultConnection"</span><span class="pun">)</span></order></user></li><li class="L7"><user><order><span class="pln"> </span><span class="pun">{</span></order></user></li><li class="L8"><user><order></order></user></li><li class="L9"><user><order><span class="pln"> </span><span class="pun">}</span></order></user></li><li class="L0"><user><order><span class="pln"> </span></order></user></li><li class="L1"><user><order><span class="pln"> </span><span class="kwd">protected</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">OnModelCreating</span><span class="pun">(</span><span class="typ">DbModelBuilder</span><span class="pln"> modelBuilder</span><span class="pun">)</span></order></user></li><li class="L2"><user><order><span class="pln"> </span><span class="pun">{</span></order></user></li><li class="L3"><user><order><span class="pln"> </span><span class="com">//TODO:Define mapping</span></order></user></li><li class="L4"><user><order><span class="pln"> </span><span class="pun">}</span></order></user></li><li class="L5"><user><order><span class="pln"> </span></order></user></li><li class="L6"><user><order><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DbSet</span><user><span class="pln"> </span><span class="typ">Users</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></user></order></user></li><li class="L7"><user><order><user><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">DbSet</span><role><span class="pln"> </span><span class="typ">Roles</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> get</span><span class="pun">;</span><span class="pln"> </span><span class="typ">set</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></role></user></order></user></li><li class="L8"><user><order><user><role><span class="pun">}</span></role></user></order></user></li><li class="L9"><user><order><user><role><span class="pun">}</span></role></user></order></user></li></ol></pre> 
<h2>Case 1 : Multiple DbContexts within a Project</h2>
<p>Suppose you have both DbContexts within a single project as shown in fig.</p>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-singledb.png" contextmenu="return false;">
</div>
<p>For migrating these two DbContexts to single database instance run the following commands by using VS2013 or VS2012 package manager console as given below:</p>
<h4>Syntax - EF Code First Migrations with Multiple DbContexts within same Project</h4>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="pln">enable</span><span class="pun">-</span><span class="pln">migrations </span><span class="pun">-</span><span class="typ">ContextTypeName</span><span class="pln"> </span><span class="pun">&lt;</span><span class="typ">DbContext</span><span class="pun">-</span><span class="typ">Name</span><span class="pun">-</span><span class="pln">with</span><span class="pun">-</span><span class="typ">Namespaces</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="typ">MigrationsDirectory</span><span class="pun">:&lt;</span><span class="typ">Migrations</span><span class="pun">-</span><span class="typ">Directory</span><span class="pun">-</span><span class="typ">Name</span><span class="pun">&gt;</span></li><li class="L1"><span class="typ">Add</span><span class="pun">-</span><span class="typ">Migration</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="pun">&lt;</span><span class="typ">DbContext</span><span class="pun">-</span><span class="typ">Migrations</span><span class="pun">-</span><span class="typ">Configuration</span><span class="pun">-</span><span class="typ">Class</span><span class="pun">-</span><span class="pln">with</span><span class="pun">-</span><span class="typ">Namespaces</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">&lt;</span><span class="typ">Migrations</span><span class="pun">-</span><span class="typ">Name</span><span class="pun">&gt;</span></li><li class="L2"><span class="typ">Update</span><span class="pun">-</span><span class="typ">Database</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="pun">&lt;</span><span class="typ">DbContext</span><span class="pun">-</span><span class="typ">Migrations</span><span class="pun">-</span><span class="typ">Configuration</span><span class="pun">-</span><span class="typ">Class</span><span class="pun">-</span><span class="pln">with</span><span class="pun">-</span><span class="typ">Namespaces</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="typ">Verbose</span></li></ol></pre>
<h3>Migrating First DbContext(DataContext)</h3>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="pln">enable</span><span class="pun">-</span><span class="pln">migrations </span><span class="pun">-</span><span class="typ">ContextTypeName</span><span class="pln"> </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">Models</span><span class="pun">.</span><span class="typ">DataContext</span><span class="pln"> </span><span class="pun">-</span><span class="typ">MigrationsDirectory</span><span class="pun">:</span><span class="typ">DataContextMigrations</span></li><li class="L1"><span class="typ">Add</span><span class="pun">-</span><span class="typ">Migration</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">DataContextMigrations</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pln"> </span><span class="typ">Initial</span></li><li class="L2"><span class="typ">Update</span><span class="pun">-</span><span class="typ">Database</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">DataContextMigrations</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pln"> </span><span class="pun">-</span><span class="typ">Verbose</span></li></ol></pre>
<p>When you run above listed command on the Package Manager Console windows one by one then:</p>
<ol class="orderlist">
<li><p>Firstly a Migrations folder will be added into your applications having Configuration.cs file for Migrations configuration setting.</p>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-singledb1.png" contextmenu="return false;">
</div>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="typ">int</span><span class="pln">ernal sealed </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Configuration</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">DbMigrationsConfiguration</span><multidatacontextmigrations.models.datacontext></multidatacontextmigrations.models.datacontext></li><li class="L1"><multidatacontextmigrations.models.datacontext><span class="pun">{</span></multidatacontextmigrations.models.datacontext></li><li class="L2"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Configuration</span><span class="pun">()</span></multidatacontextmigrations.models.datacontext></li><li class="L3"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="pun">{</span></multidatacontextmigrations.models.datacontext></li><li class="L4"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="typ">AutomaticMigrationsEnabled</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></multidatacontextmigrations.models.datacontext></li><li class="L5"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="com">//Helps to migrate this DbContext to database</span></multidatacontextmigrations.models.datacontext></li><li class="L6"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="typ">MigrationsDirectory</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">@</span><span class="str">"DataContextMigrations"</span><span class="pun">;</span><span class="pln"> </span></multidatacontextmigrations.models.datacontext></li><li class="L7"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="pun">}</span></multidatacontextmigrations.models.datacontext></li><li class="L8"><multidatacontextmigrations.models.datacontext></multidatacontextmigrations.models.datacontext></li><li class="L9"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="kwd">protected</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Seed</span><span class="pun">(</span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">Models</span><span class="pun">.</span><span class="typ">DataContext</span><span class="pln"> context</span><span class="pun">)</span></multidatacontextmigrations.models.datacontext></li><li class="L0"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="pun">{</span></multidatacontextmigrations.models.datacontext></li><li class="L1"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="com">// This method will be called after migrating to the latest version.</span></multidatacontextmigrations.models.datacontext></li><li class="L2"><multidatacontextmigrations.models.datacontext><span class="pln"> </span><span class="pun">}</span></multidatacontextmigrations.models.datacontext></li><li class="L3"><multidatacontextmigrations.models.datacontext><span class="pun">}</span></multidatacontextmigrations.models.datacontext></li></ol></pre>
</li>
<li><p>Secondly a class file will be created having name suffix as MigrationsName followed by underscore and a unique generated number. This file will have all the entities to be created in the database as shown below:</p>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="kwd">public</span><span class="pln"> partial </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Initial</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">DbMigration</span></li><li class="L1"><span class="pun">{</span></li><li class="L2"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Up</span><span class="pun">()</span></li><li class="L3"><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln"> </span><span class="typ">CreateTable</span><span class="pun">(</span></li><li class="L5"><span class="pln"> </span><span class="str">"dbo.Orders"</span><span class="pun">,</span></li><li class="L6"><span class="pln"> c </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">new</span></li><li class="L7"><span class="pln"> </span><span class="pun">{</span></li><li class="L8"><span class="pln"> </span><span class="typ">OrderID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Int</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> identity</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">),</span></li><li class="L9"><span class="pln"> </span><span class="typ">Quantity</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Int</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">),</span></li><li class="L0"><span class="pln"> </span><span class="typ">Amount</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Double</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">),</span></li><li class="L1"><span class="pln"> </span><span class="typ">Date</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">DateTime</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">),</span></li><li class="L2"><span class="pln"> </span><span class="pun">})</span></li><li class="L3"><span class="pln"> </span><span class="pun">.</span><span class="typ">PrimaryKey</span><span class="pun">(</span><span class="pln">t </span><span class="pun">=&gt;</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">OrderID</span><span class="pun">);</span></li><li class="L4"><span class="pln"> </span></li><li class="L5"><span class="pln"> </span><span class="typ">CreateTable</span><span class="pun">(</span></li><li class="L6"><span class="pln"> </span><span class="str">"dbo.Users"</span><span class="pun">,</span></li><li class="L7"><span class="pln"> c </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">new</span></li><li class="L8"><span class="pln"> </span><span class="pun">{</span></li><li class="L9"><span class="pln"> </span><span class="typ">UserID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Int</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> identity</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">),</span></li><li class="L0"><span class="pln"> </span><span class="typ">FirstName</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">String</span><span class="pun">(),</span></li><li class="L1"><span class="pln"> </span><span class="typ">LastName</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">String</span><span class="pun">(),</span></li><li class="L2"><span class="pln"> </span><span class="pun">})</span></li><li class="L3"><span class="pln"> </span><span class="pun">.</span><span class="typ">PrimaryKey</span><span class="pun">(</span><span class="pln">t </span><span class="pun">=&gt;</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">UserID</span><span class="pun">);</span></li><li class="L4"><span class="pln"> </span></li><li class="L5"><span class="pln"> </span><span class="pun">}</span></li><li class="L6"><span class="pln"> </span></li><li class="L7"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Down</span><span class="pun">()</span></li><li class="L8"><span class="pln"> </span><span class="pun">{</span></li><li class="L9"><span class="pln"> </span><span class="typ">DropTable</span><span class="pun">(</span><span class="str">"dbo.Users"</span><span class="pun">);</span></li><li class="L0"><span class="pln"> </span><span class="typ">DropTable</span><span class="pun">(</span><span class="str">"dbo.Orders"</span><span class="pun">);</span></li><li class="L1"><span class="pln"> </span><span class="pun">}</span></li><li class="L2"><span class="pun">}</span></li></ol></pre>
</li>
<li><p>Thirdly, a new database will be created having initial catalog name (initial catalog = YourDBName) as given in your connections string.</p>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-singledb2.png" contextmenu="return false;">
</div>
</li>
</ol>
<h3>Migrating Second DbContext(DataContext)</h3>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="pln">enable</span><span class="pun">-</span><span class="pln">migrations </span><span class="pun">-</span><span class="typ">ContextTypeName</span><span class="pln"> </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">Models</span><span class="pun">.</span><span class="typ">UserDataContext</span><span class="pln"> </span><span class="pun">-</span><span class="typ">MigrationsDirectory</span><span class="pun">:</span><span class="typ">UserDataContextMigrations</span></li><li class="L1"><span class="typ">Add</span><span class="pun">-</span><span class="typ">Migration</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">UserDataContextMigrations</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pln"> </span><span class="typ">Initial</span></li><li class="L2"><span class="typ">Update</span><span class="pun">-</span><span class="typ">Database</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">UserDataContextMigrations</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pln"> </span><span class="pun">-</span><span class="typ">Verbose</span></li></ol></pre>
<p>When you run above listed command on the Package Manager Console windows one by one then:</p>
<ol class="orderlist">
<li><p>Firstly a Migrations folder will be added into your applications having Configuration.cs file for Migrations configuration setting.</p>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-singledb1.1.png" contextmenu="return false;">
</div>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="typ">int</span><span class="pln">ernal sealed </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Configuration</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">DbMigrationsConfiguration</span><multidatacontextmigrations.models.userdatacontext></multidatacontextmigrations.models.userdatacontext></li><li class="L1"><multidatacontextmigrations.models.userdatacontext><span class="pun">{</span></multidatacontextmigrations.models.userdatacontext></li><li class="L2"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="kwd">public</span><span class="pln"> </span><span class="typ">Configuration</span><span class="pun">()</span></multidatacontextmigrations.models.userdatacontext></li><li class="L3"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="pun">{</span></multidatacontextmigrations.models.userdatacontext></li><li class="L4"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="typ">AutomaticMigrationsEnabled</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></multidatacontextmigrations.models.userdatacontext></li><li class="L5"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="com">//Helps to migrate this DbContext to database</span></multidatacontextmigrations.models.userdatacontext></li><li class="L6"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="typ">MigrationsDirectory</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">@</span><span class="str">"UserDataContextMigrations"</span><span class="pun">;</span></multidatacontextmigrations.models.userdatacontext></li><li class="L7"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="pun">}</span></multidatacontextmigrations.models.userdatacontext></li><li class="L8"><multidatacontextmigrations.models.userdatacontext></multidatacontextmigrations.models.userdatacontext></li><li class="L9"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="kwd">protected</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Seed</span><span class="pun">(</span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">Models</span><span class="pun">.</span><span class="typ">UserDataContext</span><span class="pln"> context</span><span class="pun">)</span></multidatacontextmigrations.models.userdatacontext></li><li class="L0"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="pun">{</span></multidatacontextmigrations.models.userdatacontext></li><li class="L1"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="com">// This method will be called after migrating to the latest version.</span></multidatacontextmigrations.models.userdatacontext></li><li class="L2"><multidatacontextmigrations.models.userdatacontext><span class="pln"> </span><span class="pun">}</span></multidatacontextmigrations.models.userdatacontext></li><li class="L3"><multidatacontextmigrations.models.userdatacontext><span class="pun">}</span></multidatacontextmigrations.models.userdatacontext></li></ol></pre>
</li>
<li><p>Secondly a class file will be created having name suffix as MigrationsName followed by underscore and a unique generated number. This file will have all the entities to be created in the database as shown below:</p>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="kwd">public</span><span class="pln"> partial </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Initial</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">DbMigration</span></li><li class="L1"><span class="pun">{</span></li><li class="L2"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Up</span><span class="pun">()</span></li><li class="L3"><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln"> </span><span class="typ">CreateTable</span><span class="pun">(</span></li><li class="L5"><span class="pln"> </span><span class="str">"dbo.Roles"</span><span class="pun">,</span></li><li class="L6"><span class="pln"> c </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">new</span></li><li class="L7"><span class="pln"> </span><span class="pun">{</span></li><li class="L8"><span class="pln"> </span><span class="typ">RoleID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Int</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> identity</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">),</span></li><li class="L9"><span class="pln"> </span><span class="typ">RolesName</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">String</span><span class="pun">(),</span></li><li class="L0"><span class="pln"> </span><span class="pun">})</span></li><li class="L1"><span class="pln"> </span><span class="pun">.</span><span class="typ">PrimaryKey</span><span class="pun">(</span><span class="pln">t </span><span class="pun">=&gt;</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">RoleID</span><span class="pun">);</span></li><li class="L2"><span class="pln"> </span></li><li class="L3"><span class="pln"> </span><span class="typ">CreateTable</span><span class="pun">(</span></li><li class="L4"><span class="pln"> </span><span class="str">"dbo.Users"</span><span class="pun">,</span></li><li class="L5"><span class="pln"> c </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">new</span></li><li class="L6"><span class="pln"> </span><span class="pun">{</span></li><li class="L7"><span class="pln"> </span><span class="typ">UserID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Int</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> identity</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">),</span></li><li class="L8"><span class="pln"> </span><span class="typ">FirstName</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">String</span><span class="pun">(),</span></li><li class="L9"><span class="pln"> </span><span class="typ">LastName</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">String</span><span class="pun">(),</span></li><li class="L0"><span class="pln"> </span><span class="pun">})</span></li><li class="L1"><span class="pln"> </span><span class="pun">.</span><span class="typ">PrimaryKey</span><span class="pun">(</span><span class="pln">t </span><span class="pun">=&gt;</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">UserID</span><span class="pun">);</span></li><li class="L2"><span class="pln"> </span></li><li class="L3"><span class="pln"> </span><span class="pun">}</span></li><li class="L4"><span class="pln"> </span></li><li class="L5"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Down</span><span class="pun">()</span></li><li class="L6"><span class="pln"> </span><span class="pun">{</span></li><li class="L7"><span class="pln"> </span><span class="typ">DropTable</span><span class="pun">(</span><span class="str">"dbo.Users"</span><span class="pun">);</span></li><li class="L8"><span class="pln"> </span><span class="typ">DropTable</span><span class="pun">(</span><span class="str">"dbo.Roles"</span><span class="pun">);</span></li><li class="L9"><span class="pln"> </span><span class="pun">}</span></li><li class="L0"><span class="pun">}</span></li></ol></pre>
</li>
<li><p>Before running update command, commented out the generated code for Users tables as shown above. Since Users table is already created by first DbContext migrations.</p>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="kwd">public</span><span class="pln"> partial </span><span class="kwd">class</span><span class="pln"> </span><span class="typ">Initial</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="typ">DbMigration</span></li><li class="L1"><span class="pun">{</span></li><li class="L2"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Up</span><span class="pun">()</span></li><li class="L3"><span class="pln"> </span><span class="pun">{</span></li><li class="L4"><span class="pln"> </span><span class="typ">CreateTable</span><span class="pun">(</span></li><li class="L5"><span class="pln"> </span><span class="str">"dbo.Roles"</span><span class="pun">,</span></li><li class="L6"><span class="pln"> c </span><span class="pun">=&gt;</span><span class="pln"> </span><span class="kwd">new</span></li><li class="L7"><span class="pln"> </span><span class="pun">{</span></li><li class="L8"><span class="pln"> </span><span class="typ">RoleID</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">Int</span><span class="pun">(</span><span class="pln">nullable</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">,</span><span class="pln"> identity</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">),</span></li><li class="L9"><span class="pln"> </span><span class="typ">RolesName</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="typ">String</span><span class="pun">(),</span></li><li class="L0"><span class="pln"> </span><span class="pun">})</span></li><li class="L1"><span class="pln"> </span><span class="pun">.</span><span class="typ">PrimaryKey</span><span class="pun">(</span><span class="pln">t </span><span class="pun">=&gt;</span><span class="pln"> t</span><span class="pun">.</span><span class="typ">RoleID</span><span class="pun">);</span></li><li class="L2"><span class="pln"> </span></li><li class="L3"><span class="pln"> </span><span class="com">//CreateTable(</span></li><li class="L4"><span class="pln"> </span><span class="com">// "dbo.Users",</span></li><li class="L5"><span class="pln"> </span><span class="com">// c =&gt; new</span></li><li class="L6"><span class="pln"> </span><span class="com">// {</span></li><li class="L7"><span class="pln"> </span><span class="com">// UserID = c.Int(nullable: false, identity: true),</span></li><li class="L8"><span class="pln"> </span><span class="com">// FirstName = c.String(),</span></li><li class="L9"><span class="pln"> </span><span class="com">// LastName = c.String(),</span></li><li class="L0"><span class="pln"> </span><span class="com">// })</span></li><li class="L1"><span class="pln"> </span><span class="com">// .PrimaryKey(t =&gt; t.UserID);</span></li><li class="L2"><span class="pln"> </span></li><li class="L3"><span class="pln"> </span><span class="pun">}</span></li><li class="L4"><span class="pln"> </span></li><li class="L5"><span class="pln"> </span><span class="kwd">public</span><span class="pln"> override </span><span class="kwd">void</span><span class="pln"> </span><span class="typ">Down</span><span class="pun">()</span></li><li class="L6"><span class="pln"> </span><span class="pun">{</span></li><li class="L7"><span class="pln"> </span><span class="typ">DropTable</span><span class="pun">(</span><span class="str">"dbo.Users"</span><span class="pun">);</span></li><li class="L8"><span class="pln"> </span><span class="typ">DropTable</span><span class="pun">(</span><span class="str">"dbo.Roles"</span><span class="pun">);</span></li><li class="L9"><span class="pln"> </span><span class="pun">}</span></li><li class="L0"><span class="pun">}</span></li></ol></pre>
<p>Now, run the third command then it will update the already created database by first DbContext migrations.</p>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-singledb3.png" contextmenu="return false;">
</div>
</li>
</ol>
<h3>__MigrationHistory table</h3>
<p>This table will contain all the migrations changes to database. Let's have a look on this table. In this way, you have successfully migrated both DbContexts to same database within SQL Server.</p>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-singledb4.png" contextmenu="return false;">
</div>
<h3>Undo/Rollback DbContexts Migrations</h3>
<p>You can also rollback database changes by running following set of commands for both the DbContexts.</p>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="typ">Update</span><span class="pun">-</span><span class="typ">Database</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">DataContextMigrations</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pln"> </span><span class="pun">-</span><span class="typ">TargetMigration</span><span class="pun">:</span><span class="str">"201402141616393_Initial"</span><span class="pln"> </span><span class="pun">-</span><span class="pln">verbose</span></li><li class="L1"><span class="typ">Update</span><span class="pun">-</span><span class="typ">Database</span><span class="pln"> </span><span class="pun">-</span><span class="pln">configuration </span><span class="typ">MultiDataContextMigrations</span><span class="pun">.</span><span class="typ">UserDataContextMigrations</span><span class="pun">.</span><span class="typ">Configuration</span><span class="pln"> </span><span class="pun">-</span><span class="typ">TargetMigration</span><span class="pun">:</span><span class="str">"201402141641408_Initial"</span><span class="pln"> </span><span class="pun">-</span><span class="pln">verbose</span></li></ol></pre>
<h2>Case 2 : Multiple DbContexts within different Projects</h2>
<p>Suppose you have both DbContexts within different projects as shown in fig.</p>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-diffdb.png" contextmenu="return false;">
</div>
<p>For migrating these two DbContexts to single database instance run the following commands by using VS2013 or VS2012 package manager console as given below:</p>
<h4>Syntax - EF Code First Migrations with Multiple DbContexts within different Projects</h4>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="pln">enable</span><span class="pun">-</span><span class="pln">migrations </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:&lt;</span><span class="typ">ProjectName</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="typ">MigrationsDirectory</span><span class="pun">:&lt;</span><span class="typ">Migrations</span><span class="pun">-</span><span class="typ">Directory</span><span class="pun">-</span><span class="typ">Name</span><span class="pun">&gt;</span></li><li class="L1"><span class="pln">add</span><span class="pun">-</span><span class="pln">migration </span><span class="pun">&lt;</span><span class="typ">Migrations</span><span class="pun">-</span><span class="typ">Name</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:&lt;</span><span class="typ">ProjectName</span><span class="pun">&gt;</span></li><li class="L2"><span class="pln">update</span><span class="pun">-</span><span class="pln">database </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:&lt;</span><span class="typ">ProjectName</span><span class="pun">&gt;</span><span class="pln"> </span><span class="pun">-</span><span class="pln">verbose</span></li></ol></pre>
<h3>Migrating First DbContext(DataContext)</h3>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="com">//migrating DataContext</span></li><li class="L1"><span class="pln">enable</span><span class="pun">-</span><span class="pln">migrations </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="pln">DAL </span><span class="pun">-</span><span class="typ">MigrationsDirectory</span><span class="pun">:</span><span class="typ">DataContextMigrations</span></li><li class="L2"><span class="pln">add</span><span class="pun">-</span><span class="pln">migration </span><span class="typ">InitialCreate</span><span class="pln"> </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="pln">DAL</span></li><li class="L3"><span class="pln">update</span><span class="pun">-</span><span class="pln">database </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="pln">DAL </span><span class="pun">-</span><span class="pln">verbose</span></li></ol></pre>
<div class="center">
<img class="img" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/multicontext-diffdb1.png" contextmenu="return false;">
</div>
<h3>Migrating Second DbContext(UserDataContext)</h3>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="com">//migrating UserDataContext</span></li><li class="L1"><span class="pln">enable</span><span class="pun">-</span><span class="pln">migrations </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="typ">MultiDataContextMigrations</span><span class="pln"> </span><span class="pun">-</span><span class="typ">MigrationsDirectory</span><span class="pun">:</span><span class="typ">UserDataContextMigrations</span></li><li class="L2"><span class="pln">add</span><span class="pun">-</span><span class="pln">migration </span><span class="typ">InitialCreate</span><span class="pln"> </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="typ">MultiDataContextMigrations</span></li><li class="L3"><span class="pln">update</span><span class="pun">-</span><span class="pln">database </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="typ">MultiDataContextMigrations</span><span class="pln"> </span><span class="pun">-</span><span class="pln">verbose</span></li></ol></pre>
<h3>Undo/Rollback DbContexts Migrations</h3>
<p>You can also rollback database changes by running following set of commands for both the DbContexts.</p>
<pre class="prettyprint lang-c linenums"><ol class="linenums"><li class="L0"><span class="pln">update</span><span class="pun">-</span><span class="pln">database </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="pln">DAL </span><span class="pun">-</span><span class="typ">TargetMigration</span><span class="pun">:</span><span class="str">"201401290826231_InitialCreate"</span><span class="pln"> </span><span class="pun">-</span><span class="pln">verbose</span></li><li class="L1"><span class="pln">update</span><span class="pun">-</span><span class="pln">database </span><span class="pun">-</span><span class="typ">ProjectName</span><span class="pun">:</span><span class="typ">MultiDataContextMigrations</span><span class="pln"> </span><span class="pun">-</span><span class="typ">TargetMigration</span><span class="pun">:</span><span class="str">"201401290836540_InitialCreate"</span><span class="pln"> </span><span class="pun">-</span><span class="pln">verbose</span></li></ol></pre>
<h5>What do you think?</h5>
<p>I hope you will enjoy the tips while programming with Entity Framework. I would like to have feedback from my blog readers. Your valuable feedback, question, or comments about this article are always welcome.
</p>
<div style="float: right" class="download"><a href="https://app.box.com/s/t71lcyms3tvhrjr4q2lq" target="_blank">Download Code</a></div> <br> 
    </div>
    <div style="margin-top: 15px;">
        <div class="download center">
            <a href="http://www.dotnet-tricks.com/#" id="print">Print Article</a>
        </div>
    </div>
     <div class="clear center">
        <a href="http://www.dotnet-tricks.com/Home/training#note">
            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/dotnet-tricks-training-progms.png" alt="Join Dot Net Tricks Training Programs"></a>
    </div>
    <div>
        <div class="share">Share this article with your friends!</div><div class="clear"><div class="left" style="padding-left:5px;"><div class="fb-share-button fb_iframe_widget" data-href="http://www.dotnet-tricks.com/Tutorial/entityframework/2VOa140214-Entity-Framework-6-Code-First-Migrations-with-Multiple-Data-Contexts.html" data-type="button_count" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=501412813239399&amp;href=http%3A%2F%2Fwww.dotnet-tricks.com%2FTutorial%2Fentityframework%2F2VOa140214-Entity-Framework-6-Code-First-Migrations-with-Multiple-Data-Contexts.html&amp;locale=en_US&amp;sdk=joey&amp;type=button_count"><span style="vertical-align: bottom; width: 86px; height: 20px;"><iframe name="f33ffe074" width="1000px" height="1000px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:share_button Facebook Social Plugin" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/share_button.htm" style="border: none; visibility: visible; width: 86px; height: 20px;" class=""></iframe></span></div><div id="fb-root" class=" fb_reset"><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="fb_xdm_frame_http" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_http" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/W2xi4Tmu0YA.htm" style="border: none;"></iframe><iframe name="fb_xdm_frame_https" frameborder="0" allowtransparency="true" scrolling="no" id="fb_xdm_frame_https" aria-hidden="true" title="Facebook Cross Domain Communication Frame" tabindex="-1" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/W2xi4Tmu0YA(1).htm" style="border: none;"></iframe></div></div><div style="position: absolute; top: -10000px; height: 0px; width: 0px;"><div><iframe name="f93658218" frameborder="0" allowtransparency="true" scrolling="no" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/ping.htm" style="display: none;"></iframe></div></div></div><script>(function(d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=501412813239399"; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script></div><div class="left" style="padding-left:33px;padding-top:5px"><iframe id="twitter-widget-0" scrolling="no" frameborder="0" allowtransparency="true" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/tweet_button.1409007440.htm" class="twitter-share-button twitter-tweet-button twitter-share-button twitter-count-horizontal" title="Twitter Tweet Button" data-twttr-rendered="true" style="width: 110px; height: 20px;"></iframe><script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="https://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script></div><div class="left" style="padding-top:3px"><div id="___plusone_0" style="text-indent: 0px; margin: 0px; padding: 0px; border-style: none; float: none; line-height: normal; font-size: 1px; vertical-align: baseline; display: inline-block; width: 106px; height: 24px; background: transparent;"><iframe frameborder="0" hspace="0" marginheight="0" marginwidth="0" scrolling="no" style="position: static; top: 0px; width: 106px; margin: 0px; border-style: none; left: 0px; visibility: visible; height: 24px;" tabindex="0" vspace="0" width="100%" id="I0_1409740874044" name="I0_1409740874044" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/fastbutton.htm" data-gapiattached="true" title="+1"></iframe></div><script type="text/javascript"> (function() { var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })(); </script></div><div class="left" style="padding-top:5px"><script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/in.js" type="text/javascript">lang: en_US </script><span class="IN-widget" style="line-height: 1; vertical-align: baseline; display: inline-block; text-align: center;"><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1409740874925_0"><a id="li_ui_li_gen_1409740874925_0-link" href="javascript:void(0);"><span id="li_ui_li_gen_1409740874925_0-logo">in</span><span id="li_ui_li_gen_1409740874925_0-title"><span id="li_ui_li_gen_1409740874925_0-mark"></span><span id="li_ui_li_gen_1409740874925_0-title-text">Share</span></span></a></span></span><span style="padding: 0px !important; margin: 0px !important; text-indent: 0px !important; display: inline-block !important; vertical-align: baseline !important; font-size: 1px !important;"><span id="li_ui_li_gen_1409740874941_1-container" class="IN-right"><span id="li_ui_li_gen_1409740874941_1" class="IN-right"><span id="li_ui_li_gen_1409740874941_1-inner" class="IN-right"><span id="li_ui_li_gen_1409740874941_1-content" class="IN-right">19</span></span></span></span></span></span><script type="IN/Share+init" data-counter="right"></script></div></div> 
    </div>
    <div>
        <div class="author clear">About the Author</div>
    <div class="container authordetails">
        <div class="col-xs-12 col-sm-4 col-lg4 col-md4 center" style="vertical-align: top; margin: 0px">
            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/shailu.jpg" class="img-circle">
        </div>
        <div class="col-xs-12 col-sm-8 col-md8 col-lg-8">
            <div>
                Hey! I'm Shailendra Chauhan author, developer with more than 5 years of hand over Microsoft .NET technologies. I am a .NET Consultant, founder &amp; chief editor of <a href="http://www.dotnet-tricks.com/" class="link">www.dotnet-tricks.com</a> and <a href="http://www.dotnetinterviewtricks.com/" class="link">www.dotnetinterviewtricks.com</a>. I am author of books <a href="http://www.dotnet-tricks.com/Home/MVCInterviewBook" class="link">ASP.NET MVC Interview Questions and Answers</a> &amp; <a href="http://www.dotnet-tricks.com/Home/LINQInterviewBook" class="link">LINQ Interview Questions and Answers</a>.
            </div>
            <div>
                I love to work with web applications and mobile apps using Microsoft technology including ASP.NET, MVC, C#, SQL Server, WCF, Web API, Entity Framework,Cloud Computing, Windows Azure, jQuery, jQuery Mobile, Knockout.js, Angular.js and many more web technologies. <a href="http://dotnet-tricks.com/Home/About" class="link">More...</a>
            </div>
        </div>
    </div>
    <div style="clear: both">&nbsp;</div>
    </div>


</div>

<div>
 <div class="pagination">  <div class="left"><a href="http://www.dotnet-tricks.com/Tutorial/entityframework/R54K181213-Understanding-Entity-Framework-Code-First-Migrations.html">&nbsp;Â« Prev&nbsp;&nbsp;&nbsp;</a></div>  <div class="right" style="padding-right: 10px;"><a href="http://www.dotnet-tricks.com/Tutorial/entityframework/GHIG200314-Various-Domain-modelling-approaches-in-Entity-Framework.html">&nbsp;&nbsp;Next Â»&nbsp;</a></div>   </div><div style="clear: both"> &nbsp; </div><div>  <h6>Recommended Articles!</h6><div class="row"><div style="padding-top: 10px;" class="col-xs-12 col-sm-5 col-lg-6">  <div style="clear: both; margin-top: 5px; color: #3171b0"> 1.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/U60K050312-Introduction-to-Entity-Framework.html" class="link">Introduction to Entity Framework</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 2.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/RIWW210913-Difference-between-Lazy-Loading-and-Eager-Loading.html" class="link">Difference between Lazy Loading and Eager Loading</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 3.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/R54K181213-Understanding-Entity-Framework-Code-First-Migrations.html" class="link">Understanding Entity Framework Code First Migrations</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 4.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/L0EV220314-Using-T4-templates-in-Entity-framework.html" class="link">Using T4 templates in Entity framework</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 5.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/KP45031213-Understanding-Inheritance-in-Entity-Framework.html" class="link">Understanding Inheritance in Entity Framework</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 6.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/J8bO140912-Tips-to-improve-Entity-Framework-Performance.html" class="link">Tips to improve Entity Framework Performance</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 7.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/I35N171213-A-brief-version-history-of-ADO.NET-Entity-Framework.html" class="link">A brief version history of ADO.NET Entity Framework</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 8.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/GHIG200314-Various-Domain-modelling-approaches-in-Entity-Framework.html" class="link">Various Domain modelling approaches in Entity Framework</a></div>  <div style="clear: both; margin-top: 5px; color: #3171b0"> 9.&nbsp;<a href="http://www.dotnet-tricks.com/Tutorial/entityframework/1M5W300314-Difference-between-LINQ-to-SQL-and-Entity-Framework.html" class="link">Difference between LINQ to SQL and Entity Framework</a></div>  </div><div style="padding-top: 10px;" class="col-xs-12 col-sm-4 col-lg-5"><ins class="adsbygoogle" style="display:inline-block;width:300px;height:250px" data-ad-client="ca-pub-8748562326380967" data-ad-slot="8593377301" data-adsbygoogle-status="done"><ins id="aswift_1_expand" style="display:inline-table;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_1_anchor" style="display:block;border:none;height:250px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="250" id="pifId-78692228462" style="border: none;"></iframe><iframe width="300" height="250" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_1" name="aswift_1" style="left:0;position:absolute;top:0;"></iframe></ins></ins></ins><script> (adsbygoogle = window.adsbygoogle || []).push({}); </script></div></div>  </div><div style="clear: both"> &nbsp; </div>  
</div>
<div id="disqus_thread"><iframe id="dsq-2" data-disqus-uid="2" allowtransparency="true" frameborder="0" scrolling="no" tabindex="0" title="Disqus" width="100%" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/saved_resource.htm" style="width: 100% !important; border: none !important; overflow: hidden !important; height: 1720px !important;" horizontalscrolling="no" verticalscrolling="no"></iframe></div>
<script type="text/javascript">

    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'dotnet-tricks'; // required: replace example with your forum shortname
   
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function () {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
            </div>
            <div class="col-xs-12 col-sm-4 col-lg-4">
                <div>
                    <div class="sidebarheader subscribeheader">
                        Subscribe &amp; follow Us
                    </div>
                    <div>
<div class="subscribe">
<form action="http://www.dotnet-tricks.com/Layout/EmailSubscribe" id="formSubs" method="post">        <label style="color: #ce0500; font-size: 10pt;"></label>
        <div>
            <input class="input-field" data-val="true" data-val-regex="Please enter correct email" data-val-regex-pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}" data-val-required="Please enter your email address" id="EmailID" maxlength="50" name="EmailID" onkeypress="return keypressEmail(event);" placeholder="Enter Your Email Address.." style="width:100%" type="text" value="">
            <span class="field-validation-valid" data-valmsg-for="EmailID" data-valmsg-replace="true" id="spanemail"></span>
        </div>
        <div class="right" style="padding-top: 5px; padding-right: 10px;">
            &nbsp;<input type="submit" id="btnsubscribe" onclick="return Subscribe();" value="  Subscribe!  ">
        </div>
</form></div>
<div class="clear" style="height:10px">&nbsp;</div>
<div class="clear">
    <ul class="metro-social">
        <li><a class="facebook" href="http://www.facebook.com/DotNetTricks" target="_blank"></a></li>
        <li><a class="twitter" href="http://twitter.com/proshailendra" target="_blank"></a></li>
        <li><a class="googleplus" href="http://plus.google.com/communities/111263519871220907813" target="_blank"></a></li>
        <li><a class="linkedin" href="http://www.linkedin.com/groups/Dot-Net-Tricks-4540873" target="_blank"></a></li>
        <li><a class="rssfeed" href="http://feeds.feedburner.com/dotnet-tricks/feed" target="_blank"></a></li>
    </ul>
</div>
<div class="clear" align="center">
    <a href="http://www.copyscape.com/plagiarism-check/" target="_blank">
        <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/cs-wh-234x16.gif" alt="Protected by Copyscape Web Plagiarism Check" title="Protected by Copyscape Plagiarism Checker - Do not copy content from this page." width="234" height="16" border="0">
    </a>
</div>
<div align="center" style="padding-top:2px;padding-bottom:5px;">
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/88x31.png"></a><br><span xmlns:dct="http://purl.org/dc/terms/" property="dct:title">Dot Net Tricks</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.
</div>


                    </div>

                </div>
                <div>
                    <div>
<div class="sidebarheader bookheader">Free .NET Interview Books</div>
<div class="subscribe" align="center">
    <div class="left" style="width:50%">
        <a href="http://www.dotnet-tricks.com/Home/DotNetInterviewBook">
            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/mvcbook.jpg" style="margin:0px;" alt="Free ASP.NET MVC Interview Book"></a>
    </div>
    <div class="left" style="width:50%">
        <a href="http://www.dotnet-tricks.com/Home/DotNetInterviewBook">
            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/linqbook.jpg" style="margin:0px" alt="Free LINQ Interview Book"></a>
    </div>
</div>
<div class="clear" style="height:10px">&nbsp;</div>
<div class="sidebarheader learnheader">Learn In Hindi</div>
<div class="subscribe" align="center">
    <div class="center">
        <a href="http://www.learninhindi.com/" target="_blank">
            <img src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/AdOnDotNetTrick.png" width="178" height="243">
        </a>
    </div>
</div>

                    </div>

                </div>
                <div>
                    <div class="sidebarheader categoryheader">
                        Browse By Category
                    </div>
                    <div>
<div class="tagcloud">
         <a href="http://www.dotnet-tricks.com/Tutorial/netframeworklist"><label>.Net Framework</label><span>7</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/adonetlist"><label>ADO.NET</label><span>6</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/ajaxlist"><label>Ajax</label><span>2</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/angularjslist"><label>AngularJS</label><span>4</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/aspnetlist"><label>ASP.NET</label><span>15</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/aspnetwebpagelist"><label>ASP.NET Web Page</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/backbonelist"><label>Backbone</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/clist"><label>C</label><span>5</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/csharplist"><label>C#</label><span>29</span></a>
         <a href="http://www.windowsappstutorial.com/Tutorial/cswinappslist"><label>C# Windows Apps</label><span>6</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/csslist"><label>CSS</label><span>5</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/dependencyinjectionlist"><label>Dependency Injection</label><span>4</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/designpatternslist"><label>Design Patterns</label><span>18</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/entityframeworklist"><label>Entity Framework</label><span>10</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/fluentnhibernatelist"><label>Fluent Nhibernate</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/hybridmobileappslist"><label>Hybrid Mobile Apps</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/javascriptlist"><label>JavaScript</label><span>6</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/jquerylist"><label>jQuery</label><span>4</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/jquerymobilelist"><label>jQuery Mobile</label><span>6</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/knockoutlist"><label>Knockout</label><span>5</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/linqlist"><label>LINQ</label><span>15</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/mvclist"><label>MVC</label><span>54</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/mvc6list"><label>MVC 6</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/nhibernatelist"><label>Nhibernate</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/oopslist"><label>OOPS</label><span>6</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/phonegaplist"><label>PhoneGap</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/sqlserverlist"><label>SQL Server</label><span>47</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/sqlserver2012list"><label>SQL Server 2012</label><span>1</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/tfslist"><label>TFS</label><span>3</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/visualstudiolist"><label>Visual Studio</label><span>4</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/wcflist"><label>WCF</label><span>10</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/webapilist"><label>Web API</label><span>7</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/webservicelist"><label>Web Service</label><span>2</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/windowsazurelist"><label>Windows Azure</label><span>2</span></a>
         <a href="http://www.windowsappstutorial.com/Tutorial/windowsphoneappslist"><label>Windows Phone Apps</label><span>6</span></a>
         <a href="http://www.dotnet-tricks.com/Tutorial/wpflist"><label>WPF</label><span>4</span></a>
</div>
                    </div>
                </div>
                <div style="height: 5px">
                    &nbsp;
                </div>
                <div>
                    <div class="sidebarheader recentheader">
                        Recent Articles
                    </div>
                    <div>
<ul class="nudgeUs recentpost">  <li class="linkfirstbg"><a href="http://www.dotnet-tricks.com/Tutorial/angularjs/LI8U270814-AngularJS-Form-Validation-with-Bootstrap.html" class="nudge">AngularJS Form Validation with Bootstrap</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/angularjs/OF8K150814-A-Look-into-AngularJS-Compilation-Process.html" class="nudge">A Look into AngularJS Compilation Process</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/angularjs/54Ia140814-Understanding-Features-of-AngularJS.html" class="nudge">Understanding Features of AngularJS</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/phonegap/2cY5250714-What-is-PhoneGap-and-Why-to-use-it?.html" class="nudge">What is PhoneGap and Why to use it?</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/hybridmobileapps/WQPF200714-Understanding-Mobile-Apps-Development-Options-(Native,-HTML5-or-Hybrid).html" class="nudge">Understanding Mobile Apps Development Options</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/linq/O1H1170714-Understanding-LINQ-Standard-Query-Operators.html" class="nudge">Understanding LINQ Standard Query Operators</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/linq/a96c160714-Difference-between-ADO.NET-and-LINQ-to-SQL.html" class="nudge">Difference between ADO.NET and LINQ to SQL</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/linq/31J7160714-LINQ-Inner-Join-with-AND-and-OR-condition.html" class="nudge">LINQ Inner Join with AND and OR condition</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/linq/E23I160714-Understanding-Single,-SingleOrDefault,-First-and-FirstOrDefault.html" class="nudge">Understanding Single, SingleOrDefault, First and FirstOrDefault</a></li>  <li class="linklastbg">  <a href="http://www.dotnet-tricks.com/Tutorial/linq/aENT160714-Different-ways-to-write-LINQ-query.html" class="nudge">Different ways to write LINQ query</a></li>  </ul> 
                    </div>
                </div>
                <div style="height: 5px">
                    &nbsp;
                </div>
                <div>
                    <div class="sidebarheader popularheader">
                        Popular Articles
                    </div>
                    <div>
<ul class="nudgeUs popularpost">  <li class="linkfirstbg"><a href="http://www.dotnet-tricks.com/Tutorial/mvc/LYHK270114-Detailed-ASP.NET-MVC-Pipeline.html" class="nudge">Detailed ASP.NET MVC Pipeline</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/mvc/G54G220114-Custom-Authentication-and-Authorization-in-ASP.NET-MVC.html" class="nudge">Custom Authentication and Authorization in MVC</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/entityframework/R54K181213-Understanding-Entity-Framework-Code-First-Migrations.html" class="nudge">Understanding Entity Framework Code First Migrations</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/aspnet/SaJc221013-Understanding-Detailed-Architecture-of-ASP.NET-4.5.html" class="nudge">Understanding Detailed Architecture of ASP.NET 4.5</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/designpatterns/NTEH250513-Gang-of-Four-(GOF)-Design-Patterns-in-.Net-.html" class="nudge">Gang of Four (GOF) Design Patterns in .Net </a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/dependencyinjection/bSVa100413-Understanding-Inversion-of-Control,-Dependency-Injection-and-Service-Locator.html" class="nudge">Understanding Inversion of Control, DI and SL</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/webapi/JI2X050413-Difference-between-WCF-and-Web-API-and-WCF-REST-and-Web-Service.html" class="nudge">Difference between WCF and Web API and WCF REST</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/mvc/42R0171112-CRUD-Operations-using-jQuery-dialog,-Entity-Framework-and-ASP.NET-MVC.html" class="nudge">CRUD Operations using jQuery dialog, EF and MVC</a></li>  <li class="linkbg">  <a href="http://www.dotnet-tricks.com/Tutorial/linq/UXPF181012-SQL-Joins-with-C#-LINQ.html" class="nudge">SQL Joins with C# LINQ</a></li>  <li class="linklastbg">  <a href="http://www.dotnet-tricks.com/Tutorial/netframework/0L3P131012-.Net-Garbage-Collection-in-depth.html" class="nudge">.Net Garbage Collection in depth</a></li>  </ul>
                    </div>
                </div>
                <div style="height: 5px">
                    &nbsp;
                </div>
                <div class="sidebarheader facebookheader">
                    Like us on Facebook
                </div>
                <div>
<div class="subscribe"><div id="fb-root"></div><script type="text/javascript" defer="defer">(function (d, s, id) { var js, fjs = d.getElementsByTagName(s)[0]; if (d.getElementById(id)) return; js = d.createElement(s); js.id = id; js.src = "//connect.facebook.net/en_US/all.js#xfbml=1&appId=501412813239399"; fjs.parentNode.insertBefore(js, fjs); }(document, 'script', 'facebook-jssdk'));</script><div><div class="fb-like-box  fb_iframe_widget" data-href="https://www.facebook.com/DotNetTricks" data-width="100%" data-show-faces="true" data-stream="false" data-show-border="false" data-header="false" fb-xfbml-state="rendered" fb-iframe-plugin-query="app_id=501412813239399&amp;header=false&amp;href=https%3A%2F%2Fwww.facebook.com%2FDotNetTricks&amp;locale=en_US&amp;sdk=joey&amp;show_border=false&amp;show_faces=true&amp;stream=false"><span style="vertical-align: bottom; width: 300px; height: 241px;"><iframe name="f1943234f8" width="1000px" height="1000px" frameborder="0" allowtransparency="true" scrolling="no" title="fb:like_box Facebook Social Plugin" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/like_box.htm" style="border: none; visibility: visible; width: 300px; height: 241px;" class=""></iframe></span></div></div></div> 
                </div>
                <div style="height: 5px">
                    &nbsp;
                </div>
                <div class="sidebarheader adheader">
                    Featured AD
                </div>
                <div style="height:5px;" class="clear">&nbsp;</div>
                    <script>
                        $(function () { var e = $("#sidebar-adwrapper").offset().top; var t = function () { var t = $(window).scrollTop(); if (t > e) { $("#sidebar-adwrapper").removeClass("sidebar-ads"); $("#sidebar-adwrapper").addClass("fixedsidebar-ads").addClass("col-sm-3").addClass("col-lg-3"); } else { $("#sidebar-adwrapper").removeClass("fixedsidebar-ads").removeClass("col-sm-3").removeClass("col-lg-3"); $("#sidebar-adwrapper").addClass("sidebar-ads") } }; t(); $(window).scroll(function () { var e = $(window).width(); if (e > 720) { t() } }) })

                    </script>
                    <div id="sidebar-adwrapper" class="sidebar-ads">
                        <!-- 300 X 600 -->
                        <ins class="adsbygoogle" style="display: inline-block; width: 300px; height: 600px" data-ad-client="ca-pub-8748562326380967" data-ad-slot="4996318505" data-adsbygoogle-status="done"><ins id="aswift_2_expand" style="display:inline-table;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><ins id="aswift_2_anchor" style="display:block;border:none;height:600px;margin:0;padding:0;position:relative;visibility:visible;width:300px;background-color:transparent"><iframe width="300" height="600" frameborder="0" marginwidth="0" marginheight="0" vspace="0" hspace="0" allowtransparency="true" scrolling="no" allowfullscreen="true" onload="var i=this.id,s=window.google_iframe_oncopy,H=s&amp;&amp;s.handlers,h=H&amp;&amp;H[i],w=this.contentWindow,d;try{d=w.document}catch(e){}if(h&amp;&amp;d&amp;&amp;(!d.body||!d.body.firstChild)){if(h.call){setTimeout(h,0)}else if(h.match){try{h=s.upd(h,i)}catch(e){}w.location.replace(h)}}" id="aswift_2" name="aswift_2" style="left:0;position:absolute;top:0;"></iframe></ins></ins></ins>
                        <script>
                            (adsbygoogle = window.adsbygoogle || []).push({});
                        </script>
                    </div>
            </div>
        </div>
    </div>

    
    <div class="footer">
        <div class="container">
            <div class="row">
                <div class="col-xs-12 col-sm-4 col-lg-4">
                    <div class="theheading">
                        Who The?
                    </div>
                    <p class="thedesc">
                        If you're looking to learn a trick or technique which you have seen somewhere else.
                        Let me know and I'll do my best to explain how it was done. If I don't know how
                        to do, I'll take it as an exciting topic &amp; I'll find upright resources and share.
                        <span class="footerlink">&nbsp;<a href="http://www.dotnet-tricks.com/Home/About" rel="author">More..</a></span>
                    </p>
                </div>
                <div class="col-xs-12 col-sm-4 col-lg-4">
                    <div class="theheading">
                        Disclaimer!
                    </div>
                    <div class="thedesc">
                        This is my personal blog and having articles on .net and others .net related technologies.
                        The opinions expressed here are my own and not belongs to my employer or other organization.
                        I have listed my own learning experience on this blog.
                    </div>
                </div>
            </div>
            <div class="row">
                <div class="container">
                    <div class="copyright">
                        Copyright <span style="font-family: Georgia;">Â© 2012-2014.&nbsp;</span>The content is copyright to Shailendra Chauhan and may not be reproduced on other websites without permission from the owner.
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/scripts"></script>

    <script type="text/javascript" defer="defer">
        //Updated Google Analytics plugins for bounce rate
        (function (tos) { window.setInterval(function () { tos = (function (t) { return t[0] == 50 ? (parseInt(t[1]) + 1) + ':00' : (t[1] || '0') + ':' + (parseInt(t[0]) + 10); })(tos.split(':').reverse()); window.pageTracker ? pageTracker._trackEvent('Time', 'Log', tos) : _gaq.push(['_trackEvent', 'Time', 'Log', tos]); }, 10000); })('00');

        //Google Analytics plugins
        var _gaq = _gaq || []; _gaq.push(['_setAccount', 'UA-29156530-1']); _gaq.push(['_trackPageview']); (function () { var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true; ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s); })();
    </script>


<div id="feedly-mini" title="feedly Mini tookit"></div><iframe name="oauth2relay372180438" id="oauth2relay372180438" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/postmessageRelay.htm" tabindex="-1" style="width: 1px; height: 1px; position: absolute; top: -100px;"></iframe><iframe style="display: none; position: fixed; top: 50%; left: 50%; width: 650px; height: 500px; margin-top: -250px; margin-left: -325px; z-index: 2147483647;" id="__twbopt53fb5bb572" frameborder="0" scrolling="no"></iframe><div id="pAdId-61137031530"><script type="text/javascript" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/ajs.php"></script></div><script async="" src="./Entity Framework 6 Code First Migrations with Multiple Data Contexts_files/int-js"></script></body></html>